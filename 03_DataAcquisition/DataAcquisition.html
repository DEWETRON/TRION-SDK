

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Data Acquisition &#8212; DEWETRON TRION SDK 6.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../_static/stylesheets/oxygen_material.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Synchronization" href="../04_Synchronization/Synchronization.html" />
    <link rel="prev" title="Channel Types" href="../02_ChannelTypes/ChannelTypes.html" />



  
   

  </head>
  <body dir=ltr
        data-md-color-primary=blue data-md-color-accent=light-blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#03_DataAcquisition/DataAcquisition" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="DEWETRON TRION SDK 6.0 documentation"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/logo.png" height="26"
                   alt="DEWETRON TRION SDK 6.0 documentation logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">DEWETRON TRION SDK</span>
          <span class="md-header-nav__topic"> Data Acquisition </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <script src="../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../"versions.json"",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">DEWETRON TRION SDK 6.0 documentation</a></li>
            
            <li class="md-tabs__item"><a href="https://www.dewetron.com/products/signal-conditioning/all-trion3-trion-modules/" class="md-tabs__link">TRION & TRION3 Modules</a></li>
            
            <li class="md-tabs__item"><a href="https://www.dewetron.com/products/oxygen-measurement-software/" class="md-tabs__link">OXYGEN Software</a></li>
            
            <li class="md-tabs__item"><a href="https://www.dewetron.com/" class="md-tabs__link">DEWETRON Measurement Systems</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="DEWETRON TRION SDK 6.0 documentation" class="md-nav__button md-logo">
      
        <img src="../_static/logo.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="DEWETRON TRION SDK 6.0 documentation">DEWETRON TRION SDK</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Contents</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../00_InformationRights/InformationRights.html" class="md-nav__link">Preface</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../001_Introduction/Introduction.html" class="md-nav__link">Introduction</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../01_Quickstart/Quickstart.html" class="md-nav__link">Quickstart</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../02_ChannelTypes/ChannelTypes.html" class="md-nav__link">Channel Types</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Data Acquisition </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Data Acquisition</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#03-dataacquisition-dataacquisition--page-root" class="md-nav__link">Data Acquisition</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#buffer" class="md-nav__link">Buffer</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#scan-and-scan-size" class="md-nav__link">Scan and Scan Size</a>
        </li>
        <li class="md-nav__item"><a href="#block-and-block-size" class="md-nav__link">Block and Block Size</a>
        </li>
        <li class="md-nav__item"><a href="#block-count" class="md-nav__link">Block Count</a>
        </li>
        <li class="md-nav__item"><a href="#total-buffer-size" class="md-nav__link">Total Buffer Size</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#synchronous-data-channels" class="md-nav__link">Synchronous Data Channels</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#buffer-setup-and-buffer-ownership" class="md-nav__link">Buffer Setup and Buffer Ownership</a>
        </li>
        <li class="md-nav__item"><a href="#buffer-readout-from-application-point-of-view" class="md-nav__link">Buffer Readout from Application Point of View</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#scan-descriptor" class="md-nav__link">Scan Descriptor</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#scan-descriptor-structure" class="md-nav__link">Scan Descriptor Structure</a>
        </li>
        <li class="md-nav__item"><a href="#scan-descriptor-example-source-code" class="md-nav__link">Scan Descriptor Example Source Code</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#adc-delay" class="md-nav__link">ADC Delay</a>
        </li>
        <li class="md-nav__item"><a href="#sample-rate" class="md-nav__link">Sample Rate</a>
        </li>
        <li class="md-nav__item"><a href="#synchronous-acquisition" class="md-nav__link">Synchronous Acquisition</a>
        </li>
        <li class="md-nav__item"><a href="#asynchronous-acquisition" class="md-nav__link">Asynchronous Acquisition</a>
        </li>
        <li class="md-nav__item"><a href="#data-output" class="md-nav__link">Data Output</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#buffer" class="md-nav__link">Buffer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#synchronous-data-channels" class="md-nav__link">Synchronous Data Channels</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#scan-descriptor" class="md-nav__link">Scan Descriptor</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#adc-delay" class="md-nav__link">ADC Delay</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#sample-rate" class="md-nav__link">Sample Rate</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#synchronous-acquisition" class="md-nav__link">Synchronous Acquisition</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#asynchronous-acquisition" class="md-nav__link">Asynchronous Acquisition</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#data-output" class="md-nav__link">Data Output</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../04_Synchronization/Synchronization.html" class="md-nav__link">Synchronization</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../05_CommandApiReference/CommandApiReference.html" class="md-nav__link">Command Reference</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../06_XMLApiReference/XMLApiReference.html" class="md-nav__link">XML Reference</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../07_TEDS/TEDS.html" class="md-nav__link">TEDS Interface</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../10_DEWE2/DEWE2_Enclosure.html" class="md-nav__link">DEWE2 Enclosures</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../11_DEWE3/DEWE3_Enclosure.html" class="md-nav__link">DEWE3 Enclosures</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../12_TRIONet/TRIONet_Enclosure.html" class="md-nav__link">TRIONet Enclosures</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../13_PUREC/PUREC_Enclosure.html" class="md-nav__link">PUREC Enclosures</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../14_ConnectorBoxes/ConnectorBoxes.html" class="md-nav__link">ConnectorBoxes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../19_DevelopmentTips/DevelopmentTips.html" class="md-nav__link">Development Tips</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../20_Support/Support.html" class="md-nav__link">Support</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#03-dataacquisition-dataacquisition--page-root" class="md-nav__link">Data Acquisition</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#buffer" class="md-nav__link">Buffer</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#scan-and-scan-size" class="md-nav__link">Scan and Scan Size</a>
        </li>
        <li class="md-nav__item"><a href="#block-and-block-size" class="md-nav__link">Block and Block Size</a>
        </li>
        <li class="md-nav__item"><a href="#block-count" class="md-nav__link">Block Count</a>
        </li>
        <li class="md-nav__item"><a href="#total-buffer-size" class="md-nav__link">Total Buffer Size</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#synchronous-data-channels" class="md-nav__link">Synchronous Data Channels</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#buffer-setup-and-buffer-ownership" class="md-nav__link">Buffer Setup and Buffer Ownership</a>
        </li>
        <li class="md-nav__item"><a href="#buffer-readout-from-application-point-of-view" class="md-nav__link">Buffer Readout from Application Point of View</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#scan-descriptor" class="md-nav__link">Scan Descriptor</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#scan-descriptor-structure" class="md-nav__link">Scan Descriptor Structure</a>
        </li>
        <li class="md-nav__item"><a href="#scan-descriptor-example-source-code" class="md-nav__link">Scan Descriptor Example Source Code</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#adc-delay" class="md-nav__link">ADC Delay</a>
        </li>
        <li class="md-nav__item"><a href="#sample-rate" class="md-nav__link">Sample Rate</a>
        </li>
        <li class="md-nav__item"><a href="#synchronous-acquisition" class="md-nav__link">Synchronous Acquisition</a>
        </li>
        <li class="md-nav__item"><a href="#asynchronous-acquisition" class="md-nav__link">Asynchronous Acquisition</a>
        </li>
        <li class="md-nav__item"><a href="#data-output" class="md-nav__link">Data Output</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="data-acquisition">
<h1 id="03-dataacquisition-dataacquisition--page-root">Data Acquisition<a class="headerlink" href="#03-dataacquisition-dataacquisition--page-root" title="Permalink to this headline">¶</a></h1>
<section id="buffer">
<h2 id="buffer">Buffer<a class="headerlink" href="#buffer" title="Permalink to this headline">¶</a></h2>
<figure class="align-center" id="id1">
<img alt="../_images/acquisition_ring_buffer.png" src="../_images/acquisition_ring_buffer.png"/>
<figcaption>
<p><span class="caption-number">Fig. 18 </span><span class="caption-text">Acquisition ringbuffer</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="scan-and-scan-size">
<h3 id="scan-and-scan-size">Scan and Scan Size<a class="headerlink" href="#scan-and-scan-size" title="Permalink to this headline">¶</a></h3>
<p>One scan is the portion of data that consists of exactly one sample for
each sampled channel on a board.</p>
<p>So if there are 2 analog channels and 1 counter channel active, the
scan would logically hold three values. (AI0, AI1, CNT0).</p>
<p>The scan-size therefore directly derives from this information. It
describes the memory-consumption of one scan in Bytes. In above example,
when using the AI-channels in 24Bit mode (consuming 32Bit per Sample)
the resulting scan size would be:</p>
<p>ScanSize := sizeof(AI0) + sizeof(AI1) + sizeof(CNT0)</p>
<p>Scansize := 32Bit + 32Bit + 32Bit</p>
<p>Scansize := 4 Byte + 4 Byte + 4 Byte</p>
<p>Scansize := 12 Byte</p>
<p>So one scan would have the size of 12 Byte.</p>
<p>The scan size cannot be directly controlled by the application as it
directly depends on the number and type of activated channels.</p>
<p>Usually the application does not have to know very detailed about one
scan and its layout inherently, as there are ways to get this
information from the API in an abstracted way at runtime.</p>
</section>
<section id="block-and-block-size">
<h3 id="block-and-block-size">Block and Block Size<a class="headerlink" href="#block-and-block-size" title="Permalink to this headline">¶</a></h3>
<p>One block is a collection of <em>n</em> scans.</p>
<p>It is only meant as a logical unit and does not directly influence the
driver in any way. Usually it is set up in accordance with the
polling-interval of the application.</p>
<p>The block-size can be set to any arbitrary value &gt; 0. A standard use
case would set it to SampleRate * pollingIntervall. For Example:</p>
<p>BlockSize := SampleRate * pollingIntervall</p>
<p>BlockSize := 2000 SPS * 0.1 sec</p>
<p>BlockSize := 200</p>
<p>This has to be set by the application.</p>
</section>
<section id="block-count">
<h3 id="block-count">Block Count<a class="headerlink" href="#block-count" title="Permalink to this headline">¶</a></h3>
<p>This defines how many blocks the buffer shall be able to hold. This
allows the application to control how big the backlog of data shall be
and thus how much time the application may spend with tasks not related
to the acquisition – so that peaks in computation times won’t lead to
lost acquisition data.</p>
<p>It can be set to any value &gt; 0, and is only limited by the total
available memory.</p>
<p>For example:</p>
<p>BlockCount := 50</p>
<p>This has to be setup by the application.</p>
</section>
<section id="total-buffer-size">
<h3 id="total-buffer-size">Total Buffer Size<a class="headerlink" href="#total-buffer-size" title="Permalink to this headline">¶</a></h3>
<p>The total buffer size is calculated based on the above described
information.</p>
<p>Buffersize := ScanSize * BlockSize * BlockCount</p>
<p>In our example:</p>
<p>BufferSize := 12 Bytes * 200 * 50</p>
<p>BufferSize := 12 Bytes * 10000</p>
<p>Buffersize := 12000 Bytes</p>
</section>
</section>
<section id="synchronous-data-channels">
<h2 id="synchronous-data-channels">Synchronous Data Channels<a class="headerlink" href="#synchronous-data-channels" title="Permalink to this headline">¶</a></h2>
<p>Each sampling period produces one sample for each channel and consumes
“Scan Size” amount of data in the buffer. There are currently three
kinds of synchronous data in the buffer: analog channel samples, counter
channel samples and digital channel samples.</p>
<p>The driver itself maintains a separate read- and write-pointer into this
buffer. So the hardware can add new samples independent of the
applications data-processing.</p>
<p>The driver will notify the application with an error-code if a
buffer-overrun occurs. That is, if the application processes data too
slow, so that the new samples have already overwritten unprocessed old
ones.</p>
<p>The application then can freely decide how to handle this error case.</p>
<section id="buffer-setup-and-buffer-ownership">
<h3 id="buffer-setup-and-buffer-ownership">Buffer Setup and Buffer Ownership<a class="headerlink" href="#buffer-setup-and-buffer-ownership" title="Permalink to this headline">¶</a></h3>
<p>The buffer itself is completely maintained inside the API – so the
applications do not have to bother with allocation and de-allocation
issues, which usually come with having a buffer.</p>
<p>However – to allow the application a fine granulated control over the
buffer, it is able and obligated to indicate to the API the desired size
of the buffer in terms of logical units, by using the integer-based
functions. The application decides, how many scans one block shall hold,
and how many blocks shall be allocated. The actual size in bytes is then
calculated by the API and the buffer is allocated.</p>
</section>
<section id="buffer-readout-from-application-point-of-view">
<h3 id="buffer-readout-from-application-point-of-view">Buffer Readout from Application Point of View<a class="headerlink" href="#buffer-readout-from-application-point-of-view" title="Permalink to this headline">¶</a></h3>
<p>The ring-buffer is exposed to the application by providing the related
pointer information.</p>
<p>The API will provide:</p>
<ul class="simple">
<li><p>Start-pointer of the ring buffer</p></li>
<li><p>End-Pointer of the ring buffer</p></li>
<li><p>Pointer to the first unprocessed scan</p></li>
</ul>
<p>Together with the information how many unprocessed samples are available
the application iterates directly over the ring buffer.</p>
<p>This approach allows a minimal internal overhead on data-access.</p>
</section>
</section>
<section id="scan-descriptor">
<span id="data-aquisition-scan-descriptor"></span><h2 id="scan-descriptor">Scan Descriptor<a class="headerlink" href="#scan-descriptor" title="Permalink to this headline">¶</a></h2>
<p>As mentioned before a scan is the portion of data
containing exactly one sample per used channel. Without knowledge about
its internal layout, this would just be a binary stream with arbitrary
length.</p>
<p>But the application does not need to know implicitly about the layout of
the data. This would be undesirable, as the layout may change with
coming driver versions or coming hardware. For example, when a new type
of synchronous data will be added, inherent hardcoded knowledge within
the application would immediately break the data-readout mechanism of
the application.</p>
<p>So after setting up the acquisition environment, the API can be queried
about the layout.</p>
<p>The detailed layout-information will be returned as an XML-string.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-number">Listing 9 </span><span class="caption-text">BoardProperties - ScanDescriptor Example</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;ScanDescriptor&gt;</span>
    <span class="nt">&lt;BoardId0&gt;</span>
        <span class="nt">&lt;ScanDescription</span> <span class="na">version=</span><span class="s">"2"</span> <span class="na">scan_size=</span><span class="s">"96"</span> <span class="na">byte_order=</span><span class="s">"little_endian"</span> <span class="na">unit=</span><span class="s">"bit"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Channel</span> <span class="na">type=</span><span class="s">"Analog"</span> <span class="na">index=</span><span class="s">"3"</span> <span class="na">name=</span><span class="s">"AI3"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;Sample</span> <span class="na">offset=</span><span class="s">"32"</span> <span class="na">size=</span><span class="s">"24"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/Channel&gt;</span>
        <span class="nt">&lt;/ScanDescriptor&gt;</span>
    <span class="nt">&lt;/BoardId0&gt;</span>
<span class="nt">&lt;/ScanDescriptor&gt;</span>
</pre></div>
</div>
</div>
<section id="scan-descriptor-structure">
<h3 id="scan-descriptor-structure">Scan Descriptor Structure<a class="headerlink" href="#scan-descriptor-structure" title="Permalink to this headline">¶</a></h3>
<p>The following API string command returns the scan information for a
specific Board:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">DeWeGetParamStruct_str</span><span class="p">(</span><span class="w"> </span><span class="s">"BoardId0"</span><span class="p">,</span><span class="w"> </span><span class="s">"ScanDescriptor_V2"</span><span class="p">,</span><span class="w"> </span><span class="n">Buf</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">Buf</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
<p>The returned XML document correlates with the following hierarchy:</p>
<ol class="arabic simple">
<li><p>&lt;ScanDescriptor&gt; : XML Element. Max. Occurrences: 1.</p></li>
<li><p>&lt;BoardID0&gt; : XML Element. Max. Occurrences: 1.</p></li>
<li><p>&lt;ScanDescription&gt; : XML Element. Max. Occurrences: 1.</p></li>
<li><p>&lt;Channel&gt; : XML Element. Max. Occurrences: Unbounded.</p></li>
<li><p>&lt;Sample&gt; : XML Element. Max. Occurrences: Unbounded.</p></li>
</ol>
<p>Please be aware that the scan descriptor annotates only the enabled
channels for a specific Board. In case no channel is enabled, the API
returns an empty scan descriptor with “scan_size” set to the value 0.</p>
<p>The API considers disabled channels and therefore the returned
“scan_size” and “offsets” are being returned accordingly.</p>
<p>The following list depicts all possible XML Elements and their XML
attributes and values of the returned scan descriptor XML document:</p>
<table id="id3">
<caption><span class="caption-number">Table 3 </span><span class="caption-text">TEDS XML description</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 10%"/>
<col style="width: 10%"/>
<col style="width: 80%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Element</strong></p></th>
<th class="head"><p><strong>Attribute</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ScanDescriptor</p></td>
<td></td>
<td><p>ScanDescriptor root element</p></td>
</tr>
<tr class="row-odd"><td><p>BoardIdXX</p></td>
<td></td>
<td><p>Selected board elememt “BoardID0”</p></td>
</tr>
<tr class="row-even"><td><p>ScanDescription</p></td>
<td></td>
<td><p>Describes the scan for the requested board</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>version</p></td>
<td><p>Scan descriptor’s document version (Should be 2)</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>scan_size</p></td>
<td><p>The size of the scan expressed in unit</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>byte_order</p></td>
<td><p>The byte order of the scan (“little_endian”)</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>unit</p></td>
<td><p>The unit of “scan_size” attribute (“bit”)</p></td>
</tr>
<tr class="row-odd"><td><p>Channel</p></td>
<td></td>
<td><p>Channel element</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>type</p></td>
<td><p>Value: string “Analog”, “Counter”, “Discrete”</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>index</p></td>
<td><p>The channel index on the specific board</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>name</p></td>
<td><p>API name of the channel “AI0”</p></td>
</tr>
<tr class="row-odd"><td><p>Sample</p></td>
<td></td>
<td><p>Detailed sample description</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>offset</p></td>
<td><p>The offset within the whole scan</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>size</p></td>
<td><p>the size of the sample</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>subChannel</p></td>
<td><p>Optional attribute for counter sub channels</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When requesting a scan descriptor with command “ScanDescriptor” (Version
1), some boards may not be able to return a valid scan descriptor
for analog 24bit channels. Therefore, always use “ScanDescriptor_V2”.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>“ScanDescriptor” version 1 is deprecated and will be removed. It will return
the V2 document in future.</p>
</div>
</section>
<section id="scan-descriptor-example-source-code">
<h3 id="scan-descriptor-example-source-code">Scan Descriptor Example Source Code<a class="headerlink" href="#scan-descriptor-example-source-code" title="Permalink to this headline">¶</a></h3>
<p>The next example extends the Quickstart app with a valid Scan Descriptor
support class.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-number">Listing 10 </span><span class="caption-text">Scan Descriptor example</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">"dewepxi_load.h"</span><span class="cp"></span>
<span class="linenos">  2</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">"dewepxi_apicore.h"</span><span class="cp"></span>
<span class="linenos">  3</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">"dewepxi_apiutil.h"</span><span class="cp"></span>
<span class="linenos">  4</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">"pugixml.hpp"</span><span class="cp"></span>
<span class="linenos">  5</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;functional&gt;</span><span class="cp"></span>
<span class="linenos">  6</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iomanip&gt;</span><span class="cp"></span>
<span class="linenos">  7</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="linenos">  8</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span><span class="cp"></span>
<span class="linenos">  9</span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span><span class="cp"></span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span>
<span class="linenos"> 12</span><span class="cm">/**</span>
<span class="linenos"> 13</span><span class="cm"> * Functor to be implemented by applications interested in sample data.</span>
<span class="linenos"> 14</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 15</span><span class="k">using</span><span class="w"> </span><span class="n">AddSampleFunctor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="p">,</span><span class="w"> </span>
<span class="linenos"> 16</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="p">)</span><span class="o">&gt;</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="cm">/**</span>
<span class="linenos"> 20</span><span class="cm"> * ScanDescripterDecode</span>
<span class="linenos"> 21</span><span class="cm"> * Uses ScanDescriptor_V2 xml allowing generic</span>
<span class="linenos"> 22</span><span class="cm"> * sample decoding and processing.</span>
<span class="linenos"> 23</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos"> 24</span><span class="k">class</span><span class="w"> </span><span class="nc">ScanDescriptorDecoder</span><span class="w"></span>
<span class="linenos"> 25</span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 26</span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="linenos"> 27</span><span class="w">    </span><span class="n">ScanDescriptorDecoder</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">sd_xml</span><span class="p">,</span><span class="w"> </span><span class="n">AddSampleFunctor</span><span class="w"> </span><span class="n">f</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 28</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="n">m_datasink</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 29</span><span class="w">    </span><span class="p">{</span><span class="w">    </span>
<span class="linenos"> 30</span><span class="w">        </span><span class="n">parseScanDescriptor</span><span class="p">(</span><span class="n">sd_xml</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 31</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 32</span>
<span class="linenos"> 33</span><span class="w">    </span><span class="cm">/**</span>
<span class="linenos"> 34</span><span class="cm">     * parseScanDescriptor - parses V2 xml and build internal processing vector</span>
<span class="linenos"> 35</span><span class="cm">     */</span><span class="w"></span>
<span class="linenos"> 36</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">parseScanDescriptor</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">sd_xml</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 37</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 38</span><span class="w">        </span><span class="n">pugi</span><span class="o">::</span><span class="n">xml_document</span><span class="w"> </span><span class="n">sd_doc</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 39</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pugi</span><span class="o">::</span><span class="n">status_ok</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">sd_doc</span><span class="p">.</span><span class="n">load_string</span><span class="p">(</span><span class="n">sd_xml</span><span class="p">.</span><span class="n">c_str</span><span class="p">()).</span><span class="n">status</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 40</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 41</span><span class="w">            </span><span class="k">auto</span><span class="w"> </span><span class="n">scan_description_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="linenos"> 42</span><span class="w">                </span><span class="n">sd_doc</span><span class="p">.</span><span class="n">select_node</span><span class="p">(</span><span class="s">"ScanDescriptor/*/ScanDescription"</span><span class="p">).</span><span class="n">node</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 43</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">scan_description_node</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 44</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 45</span><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">scan_description_node</span><span class="p">.</span><span class="n">attribute</span><span class="p">(</span><span class="s">"version"</span><span class="p">).</span><span class="n">as_int</span><span class="p">())</span><span class="w"></span>
<span class="linenos"> 46</span><span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 47</span><span class="w">                    </span><span class="k">throw</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">runtime_error</span><span class="p">(</span><span class="s">"Unsupported version"</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 48</span><span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 49</span>
<span class="linenos"> 50</span><span class="w">                </span><span class="n">m_scan_size_bytes</span><span class="w"> </span>
<span class="linenos"> 51</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="n">scan_description_node</span><span class="p">.</span><span class="n">attribute</span><span class="p">(</span><span class="s">"scan_size"</span><span class="p">).</span><span class="n">as_int</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 52</span><span class="w">                </span><span class="c1">// Can be safely ignored:</span>
<span class="linenos"> 53</span><span class="w">                </span><span class="c1">// bit</span>
<span class="linenos"> 54</span><span class="w">                </span><span class="c1">// byte_order</span>
<span class="linenos"> 55</span><span class="w">                </span><span class="c1">// buffer_direction</span>
<span class="linenos"> 56</span><span class="w">                </span><span class="c1">// buffer</span>
<span class="linenos"> 57</span>
<span class="linenos"> 58</span><span class="w">                </span><span class="k">auto</span><span class="w"> </span><span class="n">channel_nodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scan_description_node</span><span class="p">.</span><span class="n">select_nodes</span><span class="p">(</span><span class="s">"Channel"</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 59</span><span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">channelx</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">channel_nodes</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 60</span><span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 61</span><span class="w">                    </span><span class="k">auto</span><span class="w"> </span><span class="n">channel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">channelx</span><span class="p">.</span><span class="n">node</span><span class="p">();</span><span class="w"></span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="w">                    </span><span class="k">auto</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">channel</span><span class="p">.</span><span class="n">child</span><span class="p">(</span><span class="s">"Sample"</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 64</span>
<span class="linenos"> 65</span><span class="w">                    </span><span class="n">m_scan_desc_vec</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="w"></span>
<span class="linenos"> 66</span><span class="w">                        </span><span class="n">SDData</span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">channel</span><span class="p">.</span><span class="n">attribute</span><span class="p">(</span><span class="s">"name"</span><span class="p">).</span><span class="n">as_string</span><span class="p">())</span><span class="w"> </span>
<span class="linenos"> 67</span><span class="w">                                </span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">channel</span><span class="p">.</span><span class="n">attribute</span><span class="p">(</span><span class="s">"type"</span><span class="p">).</span><span class="n">as_string</span><span class="p">())</span><span class="w"></span>
<span class="linenos"> 68</span><span class="w">                                </span><span class="p">,</span><span class="w"> </span><span class="n">channel</span><span class="p">.</span><span class="n">attribute</span><span class="p">(</span><span class="s">"index"</span><span class="p">).</span><span class="n">as_uint</span><span class="p">()</span><span class="w"></span>
<span class="linenos"> 69</span><span class="w">                                </span><span class="p">,</span><span class="w"> </span><span class="n">sample</span><span class="p">.</span><span class="n">attribute</span><span class="p">(</span><span class="s">"size"</span><span class="p">).</span><span class="n">as_uint</span><span class="p">()</span><span class="w"></span>
<span class="linenos"> 70</span><span class="w">                                </span><span class="p">,</span><span class="w"> </span><span class="n">sample</span><span class="p">.</span><span class="n">attribute</span><span class="p">(</span><span class="s">"offset"</span><span class="p">).</span><span class="n">as_uint</span><span class="p">()</span><span class="w"></span>
<span class="linenos"> 71</span><span class="w">                        </span><span class="p">});</span><span class="w"></span>
<span class="linenos"> 72</span><span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 73</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 74</span><span class="w">            </span><span class="k">else</span><span class="w"></span>
<span class="linenos"> 75</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 76</span><span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">runtime_error</span><span class="p">(</span><span class="s">"ScanDescriptor unexpected element"</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 77</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 78</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 79</span><span class="w">        </span><span class="k">else</span><span class="w"></span>
<span class="linenos"> 80</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 81</span><span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">runtime_error</span><span class="p">(</span><span class="s">"ScanDescriptor parse error"</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 82</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 83</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos"> 84</span>
<span class="linenos"> 85</span><span class="w">    </span><span class="cm">/**</span>
<span class="linenos"> 86</span><span class="cm">     * Process sample blocks </span>
<span class="linenos"> 87</span><span class="cm">     * @param avail_samples a continuous block of samples</span>
<span class="linenos"> 88</span><span class="cm">     * @return incremented read_pos</span>
<span class="linenos"> 89</span><span class="cm">     */</span><span class="w"></span>
<span class="linenos"> 90</span><span class="w">    </span><span class="n">sint64</span><span class="w"> </span><span class="n">processSamples</span><span class="p">(</span><span class="n">sint64</span><span class="w"> </span><span class="n">read_pos</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">avail_samples</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 91</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 92</span><span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">read_pos_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">read_pos</span><span class="p">);</span><span class="w"></span>
<span class="linenos"> 93</span>
<span class="linenos"> 94</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">m_scan_desc_vec</span><span class="p">)</span><span class="w"></span>
<span class="linenos"> 95</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos"> 96</span><span class="w">            </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">offset_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sd</span><span class="p">.</span><span class="n">sample_offset</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 97</span><span class="w">            </span><span class="k">auto</span><span class="w"> </span><span class="n">read_pos_ptr_chn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read_pos_ptr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">offset_bytes</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 98</span><span class="w">            </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">channel_bit_mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">sd</span><span class="p">.</span><span class="n">sample_size</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos"> 99</span><span class="w">            </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">channel_bit_msb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sd</span><span class="p">.</span><span class="n">sample_size</span><span class="p">;</span><span class="w"></span>
<span class="linenos">100</span>
<span class="linenos">101</span><span class="w">            </span><span class="n">m_datasink</span><span class="p">(</span><span class="n">sd</span><span class="p">.</span><span class="n">name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"> </span><span class="n">sd</span><span class="p">.</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">read_pos_ptr_chn</span><span class="p">,</span><span class="w"> </span><span class="n">avail_samples</span><span class="p">,</span><span class="w"></span>
<span class="linenos">102</span><span class="w">                </span><span class="n">channel_bit_mask</span><span class="p">,</span><span class="w"> </span><span class="n">channel_bit_msb</span><span class="p">,</span><span class="w"> </span><span class="n">m_scan_size_bytes</span><span class="p">);</span><span class="w"></span>
<span class="linenos">103</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">104</span>
<span class="linenos">105</span><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">read_pos</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">avail_samples</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">m_scan_size_bytes</span><span class="p">);</span><span class="w"></span>
<span class="linenos">106</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">107</span>
<span class="linenos">108</span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="linenos">109</span><span class="w">    </span><span class="n">AddSampleFunctor</span><span class="w"> </span><span class="n">m_datasink</span><span class="p">;</span><span class="w"></span>
<span class="linenos">110</span><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">m_scan_size_bytes</span><span class="p">;</span><span class="w"></span>
<span class="linenos">111</span>
<span class="linenos">112</span><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">SDData</span><span class="w"></span>
<span class="linenos">113</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">114</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w"></span>
<span class="linenos">115</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">channel_type</span><span class="p">;</span><span class="w"></span>
<span class="linenos">116</span><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">index</span><span class="p">;</span><span class="w"></span>
<span class="linenos">117</span><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">sample_size</span><span class="p">;</span><span class="w"></span>
<span class="linenos">118</span><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">sample_offset</span><span class="p">;</span><span class="w"></span>
<span class="linenos">119</span><span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="linenos">120</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">SDData</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_scan_desc_vec</span><span class="p">;</span><span class="w"></span>
<span class="linenos">121</span><span class="p">};</span><span class="w"></span>
<span class="linenos">122</span>
<span class="linenos">123</span>
<span class="linenos">124</span><span class="cm">/**</span>
<span class="linenos">125</span><span class="cm"> * Data Sink - App interface</span>
<span class="linenos">126</span><span class="cm"> * @param channel is the name of the channel</span>
<span class="linenos">127</span><span class="cm"> * @param first_sample pointer to the first sample</span>
<span class="linenos">128</span><span class="cm"> * @param nr_samples number of samples available</span>
<span class="linenos">129</span><span class="cm"> * @param bitmask bit mask to apply to get the valid sample value</span>
<span class="linenos">130</span><span class="cm"> * @param stride is the offset to the next sample</span>
<span class="linenos">131</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos">132</span><span class="kt">void</span><span class="w"> </span><span class="nf">addSample</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">channel_name</span><span class="p">,</span><span class="w"></span>
<span class="linenos">133</span><span class="w">            </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">channel_index</span><span class="p">,</span><span class="w"></span>
<span class="linenos">134</span><span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">first_sample</span><span class="p">,</span><span class="w"></span>
<span class="linenos">135</span><span class="w">            </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">nr_samples</span><span class="p">,</span><span class="w"></span>
<span class="linenos">136</span><span class="w">            </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">channel_bitmask</span><span class="p">,</span><span class="w"></span>
<span class="linenos">137</span><span class="w">            </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">channel_bit_msb</span><span class="p">,</span><span class="w"></span>
<span class="linenos">138</span><span class="w">            </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">stride</span><span class="p">)</span><span class="w"></span>
<span class="linenos">139</span><span class="p">{</span><span class="w"></span>
<span class="linenos">140</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">first_sample</span><span class="p">);</span><span class="w"></span>
<span class="linenos">141</span>
<span class="linenos">142</span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nr_samples</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">143</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">144</span><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="kt">uint32_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">data_ptr</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">channel_bitmask</span><span class="p">;</span><span class="w"></span>
<span class="linenos">145</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">channel_name</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">": "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">hex</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="linenos">146</span><span class="w">        </span><span class="n">data_ptr</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">stride</span><span class="p">;</span><span class="w"></span>
<span class="linenos">147</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">148</span><span class="p">}</span><span class="w"></span>
<span class="linenos">149</span>
<span class="linenos">150</span><span class="cm">/**</span>
<span class="linenos">151</span><span class="cm"> * Print samples in channel per column</span>
<span class="linenos">152</span><span class="cm"> * Uses Functor interface like "addSample"</span>
<span class="linenos">153</span><span class="cm"> */</span><span class="w"></span>
<span class="linenos">154</span><span class="k">class</span><span class="w"> </span><span class="nc">FormattedOutput</span><span class="w"></span>
<span class="linenos">155</span><span class="p">{</span><span class="w"></span>
<span class="linenos">156</span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="linenos">157</span><span class="w">    </span><span class="n">FormattedOutput</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">num_channels</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">block_size</span><span class="p">)</span><span class="w"></span>
<span class="linenos">158</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="n">m_num_channels</span><span class="p">(</span><span class="n">num_channels</span><span class="p">)</span><span class="w"></span>
<span class="linenos">159</span><span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">m_block_size</span><span class="p">(</span><span class="n">block_size</span><span class="p">)</span><span class="w"></span>
<span class="linenos">160</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">161</span><span class="w">        </span><span class="n">m_output_buffer</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">m_num_channels</span><span class="p">);</span><span class="w"></span>
<span class="linenos">162</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">163</span>
<span class="linenos">164</span><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="p">()(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">channel_name</span><span class="p">,</span><span class="w"></span>
<span class="linenos">165</span><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">channel_index</span><span class="p">,</span><span class="w"></span>
<span class="linenos">166</span><span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">first_sample</span><span class="p">,</span><span class="w"></span>
<span class="linenos">167</span><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">nr_samples</span><span class="p">,</span><span class="w"></span>
<span class="linenos">168</span><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">channel_bitmask</span><span class="p">,</span><span class="w"></span>
<span class="linenos">169</span><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">channel_bit_msb</span><span class="p">,</span><span class="w"></span>
<span class="linenos">170</span><span class="w">        </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">stride</span><span class="p">)</span><span class="w"></span>
<span class="linenos">171</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">172</span><span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">data_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">first_sample</span><span class="p">);</span><span class="w"></span>
<span class="linenos">173</span>
<span class="linenos">174</span><span class="w">        </span><span class="n">m_output_buffer</span><span class="p">[</span><span class="n">channel_index</span><span class="p">].</span><span class="n">chn_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">channel_name</span><span class="p">;</span><span class="w"></span>
<span class="linenos">175</span>
<span class="linenos">176</span><span class="w">        </span><span class="c1">// copy samples in separate buffer per channel</span>
<span class="linenos">177</span><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nr_samples</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">178</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">179</span><span class="w">            </span><span class="c1">// The bitmask has to be applied to cut out the correct value.</span>
<span class="linenos">180</span><span class="w">            </span><span class="c1">// The MSB has to be checked to sign extend negative values</span>
<span class="linenos">181</span><span class="w">            </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="kt">int32_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">data_ptr</span><span class="p">))</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">channel_bitmask</span><span class="p">;</span><span class="w"></span>
<span class="linenos">182</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">channel_bit_msb</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="linenos">183</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos">184</span><span class="w">                </span><span class="n">value</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="o">~</span><span class="n">channel_bitmask</span><span class="p">;</span><span class="w"></span>
<span class="linenos">185</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">186</span>
<span class="linenos">187</span><span class="w">            </span><span class="n">m_output_buffer</span><span class="p">[</span><span class="n">channel_index</span><span class="p">].</span><span class="n">chn_sample_buffer</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"></span>
<span class="linenos">188</span><span class="w">            </span><span class="n">data_ptr</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">stride</span><span class="p">;</span><span class="w"></span>
<span class="linenos">189</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">190</span>
<span class="linenos">191</span><span class="w">        </span><span class="c1">// print channels in separate columns</span>
<span class="linenos">192</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">channel_index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">m_num_channels</span><span class="p">)</span><span class="w"></span>
<span class="linenos">193</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">194</span><span class="w">            </span><span class="c1">// Channel names</span>
<span class="linenos">195</span><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">chn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">chn</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">m_num_channels</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">chn</span><span class="p">)</span><span class="w"></span>
<span class="linenos">196</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos">197</span><span class="w">                </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">m_output_buffer</span><span class="p">[</span><span class="n">chn</span><span class="p">].</span><span class="n">chn_name</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">", "</span><span class="p">;</span><span class="w"></span>
<span class="linenos">198</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">199</span><span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="linenos">200</span>
<span class="linenos">201</span>
<span class="linenos">202</span><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">nr_samples</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"></span>
<span class="linenos">203</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos">204</span><span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">chn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">chn</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">m_num_channels</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">chn</span><span class="p">)</span><span class="w"></span>
<span class="linenos">205</span><span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="linenos">206</span><span class="w">                    </span><span class="k">auto</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_output_buffer</span><span class="p">[</span><span class="n">chn</span><span class="p">].</span><span class="n">chn_sample_buffer</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>
<span class="linenos">207</span><span class="w">                    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">setw</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">hex</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">", "</span><span class="p">;</span><span class="w"></span>
<span class="linenos">208</span><span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="linenos">209</span>
<span class="linenos">210</span><span class="w">                </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"></span>
<span class="linenos">211</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">212</span>
<span class="linenos">213</span><span class="w">            </span><span class="n">m_output_buffer</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span><span class="w"></span>
<span class="linenos">214</span><span class="w">            </span><span class="n">m_output_buffer</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">m_num_channels</span><span class="p">);</span><span class="w"></span>
<span class="linenos">215</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">216</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">217</span>
<span class="linenos">218</span><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">ChannelSamples</span><span class="w"></span>
<span class="linenos">219</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">220</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">chn_name</span><span class="p">;</span><span class="w"></span>
<span class="linenos">221</span><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int32_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">chn_sample_buffer</span><span class="p">;</span><span class="w"></span>
<span class="linenos">222</span><span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="linenos">223</span>
<span class="linenos">224</span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">ChannelSamples</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_output_buffer</span><span class="p">;</span><span class="w"></span>
<span class="linenos">225</span><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">m_num_channels</span><span class="p">;</span><span class="w"></span>
<span class="linenos">226</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">m_block_size</span><span class="p">;</span><span class="w"></span>
<span class="linenos">227</span><span class="p">};</span><span class="w"></span>
<span class="linenos">228</span>
<span class="linenos">229</span>
<span class="linenos">230</span>
<span class="linenos">231</span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">argv</span><span class="p">[])</span><span class="w"></span>
<span class="linenos">232</span><span class="p">{</span><span class="w"></span>
<span class="linenos">233</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">boards</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">234</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">avail_samples</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">235</span><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">int32_t</span><span class="w"> </span><span class="n">buffer_block_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<span class="linenos">236</span><span class="w">    </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">buf_end_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">        </span><span class="c1">// Last position in the ring buffer</span>
<span class="linenos">237</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">buff_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">              </span><span class="c1">// Total size of the ring buffer</span>
<span class="linenos">238</span><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">scan_descriptor</span><span class="p">[</span><span class="mi">8192</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="linenos">239</span>
<span class="linenos">240</span><span class="w">    </span><span class="n">FormattedOutput</span><span class="w"> </span><span class="n">output</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">buffer_block_size</span><span class="p">);</span><span class="w"></span>
<span class="linenos">241</span>
<span class="linenos">242</span><span class="w">    </span><span class="c1">// Basic SDK Initialization</span>
<span class="linenos">243</span><span class="w">    </span><span class="n">DeWePxiLoad</span><span class="p">();</span><span class="w"></span>
<span class="linenos">244</span>
<span class="linenos">245</span><span class="w">    </span><span class="c1">// boards is negative for simulation</span>
<span class="linenos">246</span><span class="w">    </span><span class="n">DeWeDriverInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">boards</span><span class="p">);</span><span class="w"></span>
<span class="linenos">247</span>
<span class="linenos">248</span><span class="w">    </span><span class="c1">// Open boards</span>
<span class="linenos">249</span><span class="w">    </span><span class="c1">// 0: chassis controller</span>
<span class="linenos">250</span><span class="w">    </span><span class="c1">// 1: TRION3-1850-MULTI</span>
<span class="linenos">251</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_OPEN_BOARD</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">252</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_RESET_BOARD</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">253</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_OPEN_BOARD</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">254</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_RESET_BOARD</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">255</span>
<span class="linenos">256</span><span class="w">    </span><span class="c1">// Enable all analog channels</span>
<span class="linenos">257</span><span class="w">    </span><span class="n">DeWeSetParamStruct_str</span><span class="p">(</span><span class="s">"BoardID1/AIAll"</span><span class="p">,</span><span class="w"> </span><span class="s">"Used"</span><span class="p">,</span><span class="w"> </span><span class="s">"True"</span><span class="p">);</span><span class="w"></span>
<span class="linenos">258</span>
<span class="linenos">259</span><span class="w">    </span><span class="c1">// Configure acquisition properties</span>
<span class="linenos">260</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_BUFFER_0_BLOCK_SIZE</span><span class="p">,</span><span class="w"> </span><span class="n">buffer_block_size</span><span class="p">);</span><span class="w"></span>
<span class="linenos">261</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_BUFFER_0_BLOCK_COUNT</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<span class="linenos">262</span><span class="w">    </span><span class="n">DeWeSetParamStruct_str</span><span class="p">(</span><span class="s">"BoardID1/AcqProp"</span><span class="p">,</span><span class="w"> </span><span class="s">"SampleRate"</span><span class="p">,</span><span class="w"> </span><span class="s">"100"</span><span class="p">);</span><span class="w"></span>
<span class="linenos">263</span>
<span class="linenos">264</span><span class="w">    </span><span class="c1">// Apply settings</span>
<span class="linenos">265</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_UPDATE_PARAM_ALL</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">266</span>
<span class="linenos">267</span><span class="w">    </span><span class="c1">// Get buffer configuration</span>
<span class="linenos">268</span><span class="w">    </span><span class="n">DeWeGetParam_i64</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_BUFFER_0_END_POINTER</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">buf_end_pos</span><span class="p">);</span><span class="w"></span>
<span class="linenos">269</span><span class="w">    </span><span class="n">DeWeGetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_BUFFER_0_TOTAL_MEM_SIZE</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">buff_size</span><span class="p">);</span><span class="w"></span>
<span class="linenos">270</span>
<span class="linenos">271</span><span class="w">    </span><span class="c1">// Get scan descriptor</span>
<span class="linenos">272</span><span class="w">    </span><span class="n">DeWeGetParamStruct_str</span><span class="p">(</span><span class="s">"BoardId1"</span><span class="p">,</span><span class="w"> </span><span class="s">"ScanDescriptor_V2"</span><span class="p">,</span><span class="w"> </span><span class="n">scan_descriptor</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">scan_descriptor</span><span class="p">));</span><span class="w"></span>
<span class="linenos">273</span><span class="w">    </span>
<span class="linenos">274</span><span class="cp">#if 1</span>
<span class="linenos">275</span><span class="w">    </span><span class="c1">// Connect to formatted output</span>
<span class="linenos">276</span><span class="w">    </span><span class="n">ScanDescriptorDecoder</span><span class="w"> </span><span class="n">sd_decoder</span><span class="p">(</span><span class="n">scan_descriptor</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">);</span><span class="w"></span>
<span class="linenos">277</span><span class="w">    </span>
<span class="linenos">278</span><span class="cp">#else</span>
<span class="linenos">279</span><span class="w">    </span><span class="c1">// or addSample function</span>
<span class="linenos">280</span><span class="w">    </span><span class="c1">//ScanDescriptorDecoder sd_decoder(scan_descriptor, &amp;addSample);</span>
<span class="linenos">281</span><span class="cp">#endif</span>
<span class="linenos">282</span>
<span class="linenos">283</span><span class="w">    </span><span class="c1">// Start acquisition</span>
<span class="linenos">284</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_START_ACQUISITION</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">285</span>
<span class="linenos">286</span><span class="w">    </span><span class="c1">// Measurement loop and sample processing</span>
<span class="linenos">287</span><span class="w">    </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">read_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">288</span><span class="w">    </span><span class="kt">int64_t</span><span class="o">*</span><span class="w"> </span><span class="n">read_pos_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">289</span><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sample_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">290</span>
<span class="linenos">291</span><span class="w">    </span><span class="c1">// Break with CTRL+C only</span>
<span class="linenos">292</span><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"></span>
<span class="linenos">293</span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos">294</span><span class="w">        </span><span class="c1">// Get the number of samples available</span>
<span class="linenos">295</span><span class="w">        </span><span class="n">DeWeGetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_BUFFER_0_AVAIL_NO_SAMPLE</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">avail_samples</span><span class="p">);</span><span class="w"></span>
<span class="linenos">296</span><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">avail_samples</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="linenos">297</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">298</span><span class="w">            </span><span class="n">Sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<span class="linenos">299</span><span class="w">            </span><span class="k">continue</span><span class="p">;</span><span class="w"></span>
<span class="linenos">300</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">301</span>
<span class="linenos">302</span><span class="w">        </span><span class="c1">// Get the current read pointer</span>
<span class="linenos">303</span><span class="w">        </span><span class="n">DeWeGetParam_i64</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_BUFFER_0_ACT_SAMPLE_POS</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">read_pos</span><span class="p">);</span><span class="w"></span>
<span class="linenos">304</span>
<span class="linenos">305</span><span class="w">        </span><span class="c1">// Process samples in CMD_0_BUFFER_BLOCK_SIZE</span>
<span class="linenos">306</span><span class="w">        </span><span class="c1">// to handle ring buffer wrap arounds only here:</span>
<span class="linenos">307</span><span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">avail_samples_to_process</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">avail_samples</span><span class="p">;</span><span class="w"></span>
<span class="linenos">308</span><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">avail_samples_to_process</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="linenos">309</span><span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="linenos">310</span><span class="w">            </span><span class="n">read_pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sd_decoder</span><span class="p">.</span><span class="n">processSamples</span><span class="p">(</span><span class="n">read_pos</span><span class="p">,</span><span class="w"> </span><span class="n">buffer_block_size</span><span class="p">);</span><span class="w"></span>
<span class="linenos">311</span><span class="w">            </span><span class="n">avail_samples_to_process</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">buffer_block_size</span><span class="p">;</span><span class="w"></span>
<span class="linenos">312</span>
<span class="linenos">313</span><span class="w">            </span><span class="c1">// Handle the ring buffer wrap around</span>
<span class="linenos">314</span><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">read_pos</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">buf_end_pos</span><span class="p">)</span><span class="w"></span>
<span class="linenos">315</span><span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="linenos">316</span><span class="w">                </span><span class="n">read_pos</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">buff_size</span><span class="p">;</span><span class="w"></span>
<span class="linenos">317</span><span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="linenos">318</span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos">319</span>
<span class="linenos">320</span><span class="w">        </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_BUFFER_0_FREE_NO_SAMPLE</span><span class="p">,</span><span class="w"> </span><span class="n">avail_samples</span><span class="p">);</span><span class="w"></span>
<span class="linenos">321</span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos">322</span>
<span class="linenos">323</span>
<span class="linenos">324</span><span class="w">    </span><span class="c1">// Stop acquisition</span>
<span class="linenos">325</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_STOP_ACQUISITION</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">326</span>
<span class="linenos">327</span><span class="w">    </span><span class="c1">// Free boards and unload SDK</span>
<span class="linenos">328</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_CLOSE_BOARD</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">329</span><span class="w">    </span><span class="n">DeWeSetParam_i32</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">CMD_CLOSE_BOARD</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="linenos">330</span><span class="w">    </span><span class="n">DeWeDriverDeInit</span><span class="p">();</span><span class="w"></span>
<span class="linenos">331</span><span class="w">    </span><span class="n">DeWePxiUnload</span><span class="p">();</span><span class="w"></span>
<span class="linenos">332</span>
<span class="linenos">333</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">334</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="adc-delay">
<span id="data-acq-adc-delay"></span><h2 id="adc-delay">ADC Delay<a class="headerlink" href="#adc-delay" title="Permalink to this headline">¶</a></h2>
<p>AD converters have a conversion time. Analog samples may
appear in later scans than time-wise corresponding digital channels. The
ADCdelay is used to allow the application to align samples of analog and
digital channel types.</p>
<table id="id5">
<caption><span class="caption-number">Table 4 </span><span class="caption-text">ADC delay effect on samples (for ADCDelay = 4)</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Sample Nr</strong></p></th>
<th class="head"><p><strong>AI0</strong></p></th>
<th class="head"><p><strong>AI1</strong></p></th>
<th class="head"><p><strong>CNT0</strong></p></th>
<th class="head"><p><strong>DI0</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>invalid</p></td>
<td><p>invalid</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>invalid</p></td>
<td><p>invalid</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>invalid</p></td>
<td><p>invalid</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>invalid</p></td>
<td><p>invalid</p></td>
<td><p>3</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>5</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>6</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>3</p></td>
<td><p>3</p></td>
<td><p>7</p></td>
<td><p>7</p></td>
</tr>
</tbody>
</table>
<p>After acquisition start the samples from index 0 to 3 (== ADCDelay) are
marked as invalid. There will be values, but because of AD conversion
time they will be more or less randomized.</p>
<p>The value of ADCDelay is board dependend and can be requested with
CMD_BOARD_ADC_DELAY.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please have look at the example “ADCDelay” showing a way for applying the
ADC delay to realign AI samples to the other channels.</p>
</div>
</section>
<section id="sample-rate">
<h2 id="sample-rate">Sample Rate<a class="headerlink" href="#sample-rate" title="Permalink to this headline">¶</a></h2>
</section>
<section id="synchronous-acquisition">
<h2 id="synchronous-acquisition">Synchronous Acquisition<a class="headerlink" href="#synchronous-acquisition" title="Permalink to this headline">¶</a></h2>
</section>
<section id="asynchronous-acquisition">
<h2 id="asynchronous-acquisition">Asynchronous Acquisition<a class="headerlink" href="#asynchronous-acquisition" title="Permalink to this headline">¶</a></h2>
</section>
<section id="data-output">
<h2 id="data-output">Data Output<a class="headerlink" href="#data-output" title="Permalink to this headline">¶</a></h2>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="../02_ChannelTypes/ChannelTypes.html" title="Channel Types"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Channel Types </span>
              </div>
            </a>
          
          
            <a href="../04_Synchronization/Synchronization.html" title="Synchronization"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Synchronization </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2021, DEWETRON GmbH.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>