

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TRION API Command Glossary &mdash; TRION SDK  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="TRION API XML Documents" href="trion_api_xml.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> TRION SDK
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="preface.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="trion_introduction.html">Introduction to TRION Measurement Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="trion_system_overview.html">TRION and TRIONet System Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="trion_sdk_build_instructions.html">TRION SDK Build Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="trion_sdk_minimal_example.html">TRION SDK Minimal Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="trion_api_c_interface.html">TRION API C Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="trion_api_details.html">TRION API in Depth</a></li>
<li class="toctree-l1"><a class="reference internal" href="trion_api_xml.html">TRION API XML Documents</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">TRION API Command Glossary</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#administrative-direct-call-functions">Administrative Direct Call Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dewepxiload">DeWePxiLoad</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dewepxiunload">DeWePxiUnload</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dewedriverinit">DeweDriverInit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dewedriverdeinit">DeweDriverDeInit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#integer-based-commands">Integer based commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#usage-of-integer-based-commands">Usage of integer based commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dewegetparam-i32">DeWeGetParam_i32</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dewesetparam-i32">DeWeSetParam_i32</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dewegetparam-i64">DeWeGetParam_i64</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dewesetparam-i64">DeWeSetParam_i64</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#basic-commands-for-integer-commands">Basic Commands for integer commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cmd-open-board">CMD_OPEN_BOARD</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-close-board">CMD_CLOSE_BOARD</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-reset-board">CMD_RESET_BOARD</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-start-acquisition">CMD_START_ACQUISITION</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-stop-acquisition">CMD_STOP_ACQUISITION</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-buffer-block-size">CMD_BUFFER_BLOCK_SIZE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-buffer-block-count">CMD_BUFFER_BLOCK_COUNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-all">CMD_UPDATE_PARAM_ALL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-buffer-start-pointer">CMD_BUFFER_START_POINTER</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-buffer-end-pointer">CMD_BUFFER_END_POINTER</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-buffer-total-mem-size">CMD_BUFFER_TOTAL_MEM_SIZE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-buffer-avail-no-sample">CMD_BUFFER_AVAIL_NO_SAMPLE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-buffer-act-sample-pos">CMD_BUFFER_ACT_SAMPLE_POS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-buffer-free-no-sample">CMD_BUFFER_FREE_NO_SAMPLE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-set-of-i32-commands">Advanced set of i32 commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cmd-act-sample-count">CMD_ACT_SAMPLE_COUNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-acq-all">CMD_UPDATE_PARAM_ACQ_ALL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-chn-all">CMD_ UPDATE_PARAM_CHN_ALL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-acq">CMD_UPDATE_PARAM_ACQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-acq-route">CMD_UPDATE_PARAM_ACQ_ROUTE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-mux">CMD_UPDATE_PARAM_MUX</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-intsig0-cmd-update-pram-intsig1">CMD_UPDATE_PARAM_INTSIG0, CMD_UPDATE_PRAM_INTSIG1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-ai">CMD_UPDATE_PARAM_AI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-cnt">CMD_UPDATE_PARAM_CNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-di">CMD_UPDATE_PARAM_DI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-board-cnt">CMD_UPDATE_PARAM_BOARD_CNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-can">CMD_UPDATE_PARAM_CAN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-uart">CMD_UPDATE_PARAM_UART</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-async-polling-time">CMD_ ASYNC_POLLING_TIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-async-frame-size">CMD_ ASYNC_FRAME_SIZE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-acq-timing">CMD_UPDATE_PARAM_ACQ_TIMING</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-timing-state">CMD_TIMING_STATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-buffer-clear-error">CMD_BUFFER_CLEAR_ERROR</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-get-uart-status">CMD_GET_UART_STATUS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-buffer-wait-avail-no-sample">CMD_BUFFER_WAIT_AVAIL_NO_SAMPLE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-acq-state">CMD_ACQ_STATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-update-param-aref">CMD_UPDATE_PARAM_AREF</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-timing-time">CMD_TIMING_TIME</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-gps-receiver-reset">CMD_GPS_RECEIVER_RESET</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-pxi-line-state">CMD_PXI_LINE_STATE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-discret-state-set">CMD_DISCRET_STATE_SET</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-discret-state-clear">CMD_DISCRET_STATE_CLEAR</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-discret-group32-set">CMD_DISCRET_GROUP32_SET</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-idled-board-on">CMD_IDLED_BOARD_ON</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-idled-board-off">CMD_IDLED_BOARD_OFF</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-idled-channel-on">CMD_IDLED_CHANNEL_ON</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-idled-channel-off">CMD_IDLED_CHANNEL_OFF</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-board-adc-delay">CMD_BOARD_ADC_DELAY</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-board-baseeeprom-write">CMD_BOARD_BASEEEPROM_WRITE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cmd-board-coneeprom-write">CMD_BOARD_CONEEPROM_WRITE</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TRION SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>TRION API Command Glossary</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="trion-api-command-glossary">
<h1>TRION API Command Glossary<a class="headerlink" href="#trion-api-command-glossary" title="Permalink to this headline">¶</a></h1>
<div class="section" id="administrative-direct-call-functions">
<h2>Administrative Direct Call Functions<a class="headerlink" href="#administrative-direct-call-functions" title="Permalink to this headline">¶</a></h2>
<p>This section gives a description of the available direct callable
functions that serve administrative purposes.</p>
<div class="section" id="dewepxiload">
<h3>DeWePxiLoad<a class="headerlink" href="#dewepxiload" title="Permalink to this headline">¶</a></h3>
<p>Signature:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">DeWePxiLoad</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p>This function loads the API into the process memory and sets up the
API-Interface-functions for use.</p>
<p>It is safe to call this function more than once.</p>
<p>This function returns 0 on failure.</p>
<p>Any return value greater than 0 indicates the loaded interface-version
of the API.</p>
<p>The current interface version is 5.</p>
</div>
<div class="section" id="dewepxiunload">
<h3>DeWePxiUnload<a class="headerlink" href="#dewepxiunload" title="Permalink to this headline">¶</a></h3>
<p>Signature:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">DeWePxiUnload</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p>This function unloads the API from process memory.</p>
<p>While it is not strictly necessary to call this function it is highly
recommended to do so, especially if unloading the API is not the logical
last step performed by the application.</p>
<p>Calling this function more than once may have undesired side-effects.
The first call will perform the clean-up and unload.</p>
<p>Any subsequent calls to any API-function other than DeWePxiLoad will fail.</p>
</div>
<div class="section" id="dewedriverinit">
<h3>DeweDriverInit<a class="headerlink" href="#dewedriverinit" title="Permalink to this headline">¶</a></h3>
<p>Signature:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">DeweDriverInit</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span> <span class="n">nNumOfBoard</span><span class="p">);</span>
</pre></div>
</div>
<p>This function initializes the API internal state and will report the
number of detected boards.</p>
<p>Note: To allow the application to detect whether the boards are
simulated hardware or real hardware the nNumOfBoards will have a
negative sign when simulated hardware is used. (e.g. nNumOfboards = -2
indicates 2 simulated boards)</p>
</div>
<div class="section" id="dewedriverdeinit">
<h3>DeweDriverDeInit<a class="headerlink" href="#dewedriverdeinit" title="Permalink to this headline">¶</a></h3>
<p>Signature</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span>  <span class="nf">DeweDriverDeInit</span><span class="p">(</span> <span class="kt">void</span> <span class="p">);</span>
</pre></div>
</div>
<p>This function is used to trigger a clean shutdown of API internal data
structures.</p>
<p>Calling this function is not strictly necessary as calling DeWePxiUnload()
will implicitly perform a call to this function.</p>
</div>
</div>
<div class="section" id="integer-based-commands">
<h2>Integer based commands<a class="headerlink" href="#integer-based-commands" title="Permalink to this headline">¶</a></h2>
<p>This section gives a description of the available command-IDs
(<strong>nCommandId</strong>) for the integer based commands.</p>
<p>There are two distinct integer based commands.</p>
<ul class="simple">
<li><p>One to set data, or trigger an action</p></li>
<li><p>One to retrieve data</p></li>
</ul>
<p>Another distinct for the integer command is, whether it is an atomic
command, or a composite command.</p>
<p>Composite commands are a collection of atomic commands executed within
the context of the API. Hardware-updates in general are more
time-consuming, as they involve hardware-access, and board-specific
guard-times between those accesses, determined by the components used on
the board itself. Composite commands allow the API to perform
order-optimization, and thereby cut the time spent in the actual
function, compared to using the atomic-commands on application level.</p>
<p>When invoking a composite command, API will try to perform the
underlying atomic commands with a best-effort-policy. So every atomic
command will be tried to execute, even if any of the prior executed
atomic operation returned an error. (Except if there are internal
hard-dependencies, which would render an operation as potentially
harmful to the hardware).</p>
<p>As the i32-invokers use a single integer-return-value for the
error-code, the return-value of the composite commands will always
reflect the ‘worst’ error-code encountered during the execution.
Therefore it is possible to lose detailed information, as it is possible
that more than one of the underlying atomic commands would indicate an
error-state.</p>
<div class="section" id="usage-of-integer-based-commands">
<h3>Usage of integer based commands<a class="headerlink" href="#usage-of-integer-based-commands" title="Permalink to this headline">¶</a></h3>
<div class="section" id="dewegetparam-i32">
<h4>DeWeGetParam_i32<a class="headerlink" href="#dewegetparam-i32" title="Permalink to this headline">¶</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">DeWeGetParam_i32</span><span class="p">(</span> <span class="kt">int</span> <span class="n">nBoardNo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nCommandId</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">pVal</span><span class="p">);</span>
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p>nBoardNo: Either the logical Board number of a existing board
(0,1,2,…) or in more special cases UPDATE_ALL_BOARDS to address all
boards in the system. Within the command-glossary it will be
explicitly stated for each command if this command allows only for
boards or the ‘All Boards’ parameter.</p></li>
<li><p>nCommandId: The ID of the command to be executed. This glossary holds
a list of all allowed commands</p></li>
<li><p>pVal: a pointer to an integer32 sized variable to take the result of
the operation.</p></li>
</ul>
<p>Return codes:</p>
<ul class="simple">
<li><p>A return code of 0 (ERR_NONE), indicates execution without failure.
The content of pVal is reliable.</p></li>
<li><p>A positive return code indicates a hard error. The value returned in
pVal is not reliable, and should not be considered for further usage.</p></li>
<li><p>A negative return code indicates a warning. The value returned in
pVal can be taken as reliable.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>DeWeGetParam_i32 and DeWeGetParam_i64 are compatible as long as the
return value size is 32 bit.</p>
</div>
</div>
<div class="section" id="dewesetparam-i32">
<h4>DeWeSetParam_i32<a class="headerlink" href="#dewesetparam-i32" title="Permalink to this headline">¶</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">DeWeSetParam_i32</span><span class="p">(</span> <span class="kt">int</span> <span class="n">nBoardNo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nCommandId</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nVal</span><span class="p">);</span>
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p>nBoardNo: Either the logical Board number of an existing board
(0,1,2,…) or in more special cases UPDATE_ALL_BOARDS to address all
oards in the system. Within the command-glossary it will be
explicitly stated for each command if this command allows only for
boards or the ‘All Boards’ parameter.</p></li>
<li><p>nCommandId: The ID of the command to be executed. This glossary holds
a list of all allowed commands</p></li>
<li><p>nVal: Depending on the Command. Not all commands take an actual
value. For example CMD_OPEN_BOARD takes no further parameter to
operate. Within the command-glossary it will be explicitly stated for
each command if this command supports this parameter and what the
legal values for this parameter would be.</p></li>
</ul>
<p>Return codes:</p>
<ul class="simple">
<li><p>A return code of 0 (ERR_NONE), indicates execution without failure.
The content of pVal is reliable.</p></li>
<li><p>A positive return code indicates a hard error. The operation cannot
be considered as successfully executed.</p></li>
<li><p>A negative return code indicates a warning. The operation can be
considered as executed.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>DeWeSetParam_i32 and DeWeSetParam_i64 are compatible as long as the
value to set is 32 bit.</p>
</div>
</div>
<div class="section" id="dewegetparam-i64">
<h4>DeWeGetParam_i64<a class="headerlink" href="#dewegetparam-i64" title="Permalink to this headline">¶</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">DeWeGetParam_i64</span><span class="p">(</span> <span class="kt">int</span> <span class="n">nBoardNo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nCommandId</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">pVal</span><span class="p">);</span>
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p>nBoardNo: Either the logical Board number of an existing board
(0,1,2,…) or in more special cases UPDATE_ALL_BOARDS to address all
boards in the system. Within the command-glossary it will be
explicitly stated for each command if this command allows only for
natural boards or the ‘All Boards’ parameter.</p></li>
<li><p>nCommandId: The ID of the command to be executed. This glossary holds
a list of all allowed commands</p></li>
<li><p>pVal: a pointer to an integer32 sized variable to take the result of
the operation.</p></li>
</ul>
<p>Return codes:</p>
<ul class="simple">
<li><p>A return code of 0 (ERR_NONE), indicates execution without failure.
The content of pVal is reliable.</p></li>
<li><p>A positive return code indicates a hard error. The value returned in
pVal is not reliable, and should not be considered for further usage.</p></li>
<li><p>A negative return code indicates a warning. The value returned in
pVal can be taken as reliable.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>DeWeGetParam_i64 is needed for 64bit applications to get a valid
64bit pointer to the acquisition ring buffer.</p>
</div>
</div>
<div class="section" id="dewesetparam-i64">
<h4>DeWeSetParam_i64<a class="headerlink" href="#dewesetparam-i64" title="Permalink to this headline">¶</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">DeWeSetParam_i64</span> <span class="kt">int</span> <span class="n">nBoardNo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nCommandId</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nVal</span><span class="p">);</span>
</pre></div>
</div>
<p>Parameters:</p>
<ul class="simple">
<li><p>nBoardNo: Either the logical Board number of an existing Board
(0,1,2,…) or in more special cases UPDATE_ALL_BOARDS to address all
boards in the system. Within the command-glossary it will be
explicitly stated for each command if this command allows only for
boards or the ‘All Boards’ parameter.</p></li>
<li><p>nCommandId: The ID of the command to be executed. This glossary holds
a list of all allowed commands</p></li>
<li><p>nVal: Depending on the Command. Not all commands take an actual
value. For example CMD_OPEN_BOARD takes no further parameter to
operate. Within the command-glossary it will be explicitly stated for
each command if this command supports this parameter and what the
legal values for this parameter would be.</p></li>
</ul>
<p>Return codes:</p>
<ul class="simple">
<li><p>A return code of 0 (ERR_NONE), indicates execution without failure.
The content of pVal is reliable.</p></li>
<li><p>A positive return code indicates a hard error. The operation cannot
be considered as successfully executed.</p></li>
<li><p>A negative return code indicates a warning. The operation can be
considered as executed.</p></li>
</ul>
</div>
</div>
<div class="section" id="basic-commands-for-integer-commands">
<h3>Basic Commands for integer commands<a class="headerlink" href="#basic-commands-for-integer-commands" title="Permalink to this headline">¶</a></h3>
<p>This section covers the most basic set of i32-commands to be able to
perform data-acquisition with via the API with a TRION™-Board.</p>
<p>Most SDK Examples use this basic set.</p>
<p>Any application that does not intend to change amplifier-settings on
analogue cards during a running acquisition can rely on this basic
interface.</p>
<p>The main difference between this basic interface and the advanced
interface-functions is the level of granularity of the commands.</p>
<div class="section" id="cmd-open-board">
<h4>CMD_OPEN_BOARD<a class="headerlink" href="#cmd-open-board" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Logically opens a Board for
operations. This step is mandatory before executing any other command
onto the given Board.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CMD_OPEN_BOARD_ALL provides the same functionality, but opens all found boards
This is faster for enclosures with many boards installed.</p>
</div>
</div>
<div class="section" id="cmd-close-board">
<h4>CMD_CLOSE_BOARD<a class="headerlink" href="#cmd-close-board" title="Permalink to this headline">¶</a></h4>
<p>Type: composite</p>
<ul class="simple">
<li><p>Issues the String-Set-Command “CommandFile”, to store away current
logical configuration in the SystemXML-Folder</p></li>
<li><p>Persists changed XML-data stored on board (like
amplifier-balancing-values) towards the e2prom. (equivalent to
CMD_BOARD_BASEEEPROM_WRITE and CMD_BOARD_CONEEPROM_WRITE, but with
prior checking of document-change)</p></li>
<li><p>Finally closes the board logically</p></li>
</ul>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Logically closes a Board for operations.</p>
<p>This step is not strictly mandatory as all boards that remained open at
Driver unload will be implicitly closed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CMD_CLOSE_BOARD_ALL provides the same functionality, but opens all found boards
This is faster for enclosures with many boards installed.</p>
</div>
</div>
<div class="section" id="cmd-reset-board">
<h4>CMD_RESET_BOARD<a class="headerlink" href="#cmd-reset-board" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Puts both the logical layer and the
hardware in a well-defined default state. The logical Layer will be set
to the values given as default within the BoardProperties.xml file. (See
also CMD_OPEN_BOARD)</p>
<p>To clear out the ADC-pipes if present, a short (around 100 ms)
measurement is started during this operation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CMD_RESET_BOARD_ALL provides the same functionality, but opens all found boards
This is significantly faster for enclosures with many boards installed.</p>
</div>
</div>
<div class="section" id="cmd-start-acquisition">
<h4>CMD_START_ACQUISITION<a class="headerlink" href="#cmd-start-acquisition" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 32%" />
<col style="width: 27%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>ACQ_STATE_XXXX</p></td>
<td><p>Aliased by
CMD_ACQ_STATE.
Should not be
used directly, as
support for the
not-aliased
command may be
dropped in
upcoming versions</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command starts the acquisition on the given board. To allow this
command to actually execute and start acquisition on the hardware, it is
mandatory, that the hardware setup (both, on the logical layer and on
the hardware) has been executed and finished.</p>
</div>
<div class="section" id="cmd-stop-acquisition">
<h4>CMD_STOP_ACQUISITION<a class="headerlink" href="#cmd-stop-acquisition" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command stops the acquisition for the given board.</p>
</div>
<div class="section" id="cmd-buffer-block-size">
<h4>CMD_BUFFER_BLOCK_SIZE<a class="headerlink" href="#cmd-buffer-block-size" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 27%" />
<col style="width: 48%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Currently set blocksize [in samples]</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Blocksize to set [in samples]</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command queries or sets the block-size to be used during
acquisition. Please refer to the chapter “The Acquisition Buffer” for
details.</p>
</div>
<div class="section" id="cmd-buffer-block-count">
<h4>CMD_BUFFER_BLOCK_COUNT<a class="headerlink" href="#cmd-buffer-block-count" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 32%" />
<col style="width: 42%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Currently set block-count</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Block-count to set</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command queries or sets the block-count to be used during
acquisition. Please refer to the chapter “The Acquisition Buffer” for
details</p>
</div>
<div class="section" id="cmd-update-param-all">
<h4>CMD_UPDATE_PARAM_ALL<a class="headerlink" href="#cmd-update-param-all" title="Permalink to this headline">¶</a></h4>
<p>Type: composite, issues</p>
<ul class="simple">
<li><p>CMD_UPDATE_PARAM_CHN_ALL</p></li>
<li><p>CMD_UPDATE_PARAM_ACQ_ALL</p></li>
</ul>
<p>Usable on running acquisition: yes (but not recommended)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This function updates the whole hardware to match the logical settings.</p>
<p>It allocates the sample ring buffer according to the specified
parameters and inherent parameters like samplerate, number of used
channels and channel data width.</p>
<p>This is equivalent to calling CMD_UPDATE_PARAM_CHN_ALL followed by
CMD_UPDATE_PARAM_ACQ_ALL.</p>
<p>During setup this is typically the last set-command issued to the driver
before starting the acquisition.</p>
<p>Typically after this command only get-commands are applied to the
driver. An exception to this rule would be the command
CMD_BUFFER_FREE_NO_SAMPLE as this is part of a typical data-readout-loop
and is used as a set-command.</p>
<p>As this command potentially changes the DMA layout, it is not advised to
issue this command during a running acquisition.</p>
<p>During a running acquisition this command will return
ERR_COMMAND_NOT_ALLOWED.</p>
<p>But as this command is a composite command, updating all channels, the
trigger-line-MUX and the acquisition parameters parts of changed
configuration will take effect, using an best-effort-policy.</p>
<p>This makes the command somewhat nondeterministic from point of view of
an application, as the single integer-return-value cannot provide a more
granulated information, which parameters where updated, and which
didn’t.</p>
</div>
<div class="section" id="cmd-buffer-start-pointer">
<h4>CMD_BUFFER_START_POINTER<a class="headerlink" href="#cmd-buffer-start-pointer" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Pointer to the start
of the sample ring
buffer</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command retrieves the start pointer of the sample ring buffer.</p>
<p>This value can be queried after applying all necessary parameters for
acquisition setup (for example by calling CMD_UPDATE_PARAM_ALL).</p>
</div>
<div class="section" id="cmd-buffer-end-pointer">
<h4>CMD_BUFFER_END_POINTER<a class="headerlink" href="#cmd-buffer-end-pointer" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Pointer to the last
address within the
sample ring buffer</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command retrieves the end pointer of the sample ring buffer (this
is the last valid pointer within the ring buffer).</p>
<p>A typical usage for this information is the wrap around handling when
reading out the sample ring buffer.</p>
<p>This value can be queried after applying all necessary parameters for
acquisition setup (for example by calling CMD_UPDATE_PARAM_ALL).</p>
</div>
<div class="section" id="cmd-buffer-total-mem-size">
<h4>CMD_BUFFER_TOTAL_MEM_SIZE<a class="headerlink" href="#cmd-buffer-total-mem-size" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Total size of the
ring buffer in bytes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command retrieves the total size of the allocated ring buffer in
bytes.</p>
<p>A typical usage for this information is the wrap around handling when
reading out the sample ring buffer</p>
<p>This value can be queried after applying all necessary parameters for
acquisition setup (for example by calling CMD_UPDATE_PARAM_ALL).</p>
</div>
<div class="section" id="cmd-buffer-avail-no-sample">
<h4>CMD_BUFFER_AVAIL_NO_SAMPLE<a class="headerlink" href="#cmd-buffer-avail-no-sample" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 29%" />
<col style="width: 47%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Number of yet unprocessed scans</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command retrieves the number of unprocessed scans within the ring
buffer.</p>
<p>This command is non-blocking so *pVal may have the value of 0 if there
are no not yet processed samples available. This function will indicate
if a buffer-overflow in the ring buffer has occurred by returning
ERR_BUFFER_OVERWRITE. This can happen if the actual data processing is
too slow. To clear this error the acquisition should be stopped on all
boards and restarted. This value can be queried at any time during a
running acquisition. Calling this command on a stopped board will result
in an error code indicating that no acquisition is running.
(ERR_DAQ_NOT_STARTED)</p>
</div>
<div class="section" id="cmd-buffer-act-sample-pos">
<h4>CMD_BUFFER_ACT_SAMPLE_POS<a class="headerlink" href="#cmd-buffer-act-sample-pos" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 26%" />
<col style="width: 49%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Pointer to the first unprocessed scan</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command retrieves the address of the start of the first unprocessed
scan.</p>
<p>This value can be queried at any time during a running acquisition.</p>
<p>Calling this command on a stopped board will result in an error code
indicating that no acquisition is running. (ERR_DAQ_NOT_STARTED)</p>
</div>
<div class="section" id="cmd-buffer-free-no-sample">
<h4>CMD_BUFFER_FREE_NO_SAMPLE<a class="headerlink" href="#cmd-buffer-free-no-sample" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Number of scans that
shall be considered
as consumed</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command indicates to the driver that nVal numbers of scans have
been processed by the application.</p>
<p>In a typical data-readout-loop the sequence would be:</p>
<ul class="simple">
<li><p>CMD_BUFFER_AVAIL_NO_SAMPLE returning *pVal = x</p></li>
<li><p>CMD_BUFFER_ACT_SAMPLE_POS</p></li>
<li><p>Actual data processing of y scans</p></li>
<li><p>CMD_BUFFER_FREE_NO_SAMPLE setting nVal = y</p></li>
</ul>
<p>So the application does not have necessarily to process the same amount
of data as reported back by CMD_BUFFER_AVAIL_NO_SAMPLE. The application
may process less data (provided enough data is processed per loop, to
ensure, that no buffer overrun occurs).</p>
<p>If the application now issues the CMD_BUFFER_FREE_NO_SAMPLE command
indicating this ‘less-consumption’ the remaining samples will be
presented again to the application in the next run.</p>
</div>
</div>
<div class="section" id="advanced-set-of-i32-commands">
<h3>Advanced set of i32 commands<a class="headerlink" href="#advanced-set-of-i32-commands" title="Permalink to this headline">¶</a></h3>
<p>The advanced set of i32 commands allows a finer granulated control over
the used hardware.</p>
<div class="section" id="cmd-act-sample-count">
<h4>CMD_ACT_SAMPLE_COUNT<a class="headerlink" href="#cmd-act-sample-count" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Number of samples
acquired since start
of acquisition.</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This function retrieves the number of already sampled values on the
given board. This is a low latency function and allows for example for
software time stamping of asynchronous Non-TRION data sources.</p>
<p>Asynchronous TRION data channels are usually hardware time stamped as
this is the more accurate way for time stamping. This function is meant
to be used in conjunction with third party hardware that does not
provide reliable timestamps on its own.</p>
<p><strong>Note:</strong> Not to be confused with CMD_BUFFER_AVAIL_NO_SAMPLE or
CMD_BUFFER_ACT_SAMPLE_POS. This function does not provide any
information regarding the already transferred samples. It cannot be used
for any conclusion regarding any sample buffer information.</p>
</div>
<div class="section" id="cmd-update-param-acq-all">
<h4>CMD_UPDATE_PARAM_ACQ_ALL<a class="headerlink" href="#cmd-update-param-acq-all" title="Permalink to this headline">¶</a></h4>
<p>Type: composite, issues:</p>
<ul class="simple">
<li><p>CMD_UPDATE_PARAM_ACQ</p></li>
<li><p>CMD_UPDATE_PARAM_MUX</p></li>
<li><p>CMD_UPDATE_PARAM_INTSIG0</p></li>
<li><p>CMD_UPDATE_PARAM_INTSIG1</p></li>
</ul>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This function updates the hardware regarding the pure data-acquisition
parameters. This includes, but is not limited to setting up the
DAM-characteristics.</p>
<p>This is equivalent to call CMD_UPDATE_PARAM_ACQ, CMD_UPDATE_PARAM_MUX,
CMD_UPDATE_PARAM_INTSIG0 and CMD_UPDATE_PARAM_INTSIG1 in this order.</p>
<p>As this command potentially changes the DMA layout, it is not advised to
issue this command during a running acquisition.</p>
<p>During a running acquisition this command will return
ERR_COMMAND_NOT_ALLOWED.</p>
</div>
<div class="section" id="cmd-update-param-chn-all">
<h4>CMD_ UPDATE_PARAM_CHN_ALL<a class="headerlink" href="#cmd-update-param-chn-all" title="Permalink to this headline">¶</a></h4>
<p>Type: composite, issues</p>
<ul class="simple">
<li><p>CMD_UPDATE_PARAM_AI with parameter UPDATE_ALL_CHANNELS</p></li>
<li><p>CMD_UPDATE_PARAM_AREF with parameter UPDATE_ALL_CHANNELS</p></li>
<li><p>CMD_UPDATE_PARAM_CNT with parameter UPDATE_ALL_CHANNELS</p></li>
<li><p>CMD_UPDATE_PARAM_DI with parameter UPDATE_ALL_CHANNELS</p></li>
<li><p>CMD_UPDATE_PARAM_BOARD_CNT with parameter UPDATE_ALL_CHANNELS</p></li>
<li><p>CMD_UPDATE_PARAM_CAN with parameter UPDATE_ALL_CHANNELS</p></li>
<li><p>CMD_UPDATE_PARAM_UART with parameter UPDATE_ALL_CHANNELS</p></li>
</ul>
<p>Usable on running acquisition: yes (but not recommended)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command updates the hardware-settings of all channels featured on
the given board to reflect the latest logical seting.</p>
</div>
<div class="section" id="cmd-update-param-acq">
<h4>CMD_UPDATE_PARAM_ACQ<a class="headerlink" href="#cmd-update-param-acq" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command updates the board-hardware to reflect all acquisition
related logical settings.</p>
<p>This includes the signal-routing on the PXI-plane (eg for
synchronization purposes), configuring the hardware to the selected
samplingrate and preparing the DMA-ring-buffer.</p>
</div>
<div class="section" id="cmd-update-param-acq-route">
<h4>CMD_UPDATE_PARAM_ACQ_ROUTE<a class="headerlink" href="#cmd-update-param-acq-route" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes (but only recommended in limited
cases)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command updates the signal-route-multiplexer for the signals
directly relevant to the acquisition to their latest logical values.</p>
<p>In detail these are the settings:</p>
<ul class="simple">
<li><p>AcqClk</p></li>
<li><p>AcqSync</p></li>
<li><p>AcqStart</p></li>
</ul>
<p>Usually those parameters are set prior to acquisition.</p>
<p>A possible use case, when to issue this command during a running
acquisition would be, to route AcqStart to High after an acquisition
using external trigger has been started successfully, to prevent the
acquisition from being stopped, if the external-trigger returns to low.</p>
</div>
<div class="section" id="cmd-update-param-mux">
<h4>CMD_UPDATE_PARAM_MUX<a class="headerlink" href="#cmd-update-param-mux" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command applies the logical settings of the signal-line
multiplexers to the hardware.</p>
<p>This includes the PXI-line settings like TRIG0-TRIG7, the LBL and LBR
lines, Start Trigger lines, etc.</p>
<p>Usually this command is invoked implicitly by calling one of the
PARAM_UPDATE_ACQ commands.</p>
<p>This command is only useful, if an application needs to change
MUX-settings during a running acquisition and can be ignored otherwise.</p>
</div>
<div class="section" id="cmd-update-param-intsig0-cmd-update-pram-intsig1">
<h4>CMD_UPDATE_PARAM_INTSIG0, CMD_UPDATE_PRAM_INTSIG1<a class="headerlink" href="#cmd-update-param-intsig0-cmd-update-pram-intsig1" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes (but with considerations)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command updates the hardware settings for the IntSig0 and IntSig1
line to reflect the latest logical settings.</p>
<p>It can safely be used during a running acquisition.</p>
</div>
<div class="section" id="cmd-update-param-ai">
<h4>CMD_UPDATE_PARAM_AI<a class="headerlink" href="#cmd-update-param-ai" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 31%" />
<col style="width: 31%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>Only natural
boards</p></td>
<td><p>Natural channel
number,
UPD
ATE_ALL_CHANNELS,
UPDA
TE_GROUP_CHANNELS</p></td>
<td><p>Possible during a
running
acquisition,
unless the
Used-State of the
channel has been
changed</p></td>
</tr>
</tbody>
</table>
<p>This command updates the analogue amplifier chain to reflect the latest
logic values.</p>
<p>It is safe to issue this command during a running acquisition, unless
the Used – state of the channel in question has been changed.</p>
</div>
<div class="section" id="cmd-update-param-cnt">
<h4>CMD_UPDATE_PARAM_CNT<a class="headerlink" href="#cmd-update-param-cnt" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Natural channel
number,
UPDATE_ALL_CHANNELS,
U
PDATE_GROUP_CHANNELS</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command updates the counter properties on the FPGA to reflect the
latest logical configuration values.</p>
<p>This includes the input-multiplexer as well, as the filter settings and
super-counter parameters.</p>
<p>As the super-counter parameters change the logical math used on the
channel it makes no sense, to make changes to those settings during a
running acquisition.</p>
</div>
<div class="section" id="cmd-update-param-di">
<h4>CMD_UPDATE_PARAM_DI<a class="headerlink" href="#cmd-update-param-di" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Natural channel
number,
UPDATE_ALL_CHANNELS,
U
PDATE_GROUP_CHANNELS</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command updates the digital input settings on the board to reflect
the latest logical configuration values.</p>
<p>As this is most likely to change scan-layout it is not possible to issue
this command on a running acquisition.</p>
</div>
<div class="section" id="cmd-update-param-board-cnt">
<h4>CMD_UPDATE_PARAM_BOARD_CNT<a class="headerlink" href="#cmd-update-param-board-cnt" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: no</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Natural channel
number,
UPDATE_ALL_CHANNELS,
U
PDATE_GROUP_CHANNELS</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command updates the board-counter properties on the FPGA to reflect
the latest logical configuration values.</p>
<p>This includes the input-multiplexer as well, as the filter settings and
super-counter parameters.</p>
<p>As the super-counter parameters change the logical math used on the
channel it makes no sense, to make changes to those settings during a
running acquisition.</p>
</div>
<div class="section" id="cmd-update-param-can">
<h4>CMD_UPDATE_PARAM_CAN<a class="headerlink" href="#cmd-update-param-can" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes (synchronous acquisition), no (CAN
acquisition)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Natural channel
number,
UPDATE_ALL_CHANNELS,
U
PDATE_GROUP_CHANNELS</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command updates the CAN-controller settings to reflect the latest
logical configuration values.</p>
<p>The CAN-acquisition has to be in a stopped stated, to accept this
command.</p>
</div>
<div class="section" id="cmd-update-param-uart">
<h4>CMD_UPDATE_PARAM_UART<a class="headerlink" href="#cmd-update-param-uart" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes (synchronous acquisition), no (UART
acquisition)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Natural channel
number,
UPDATE_ALL_CHANNELS,
U
PDATE_GROUP_CHANNELS</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command updates the UART-controller settings to reflect the latest
logical configuration values.</p>
<p>The UART-acquisition has to be in a stopped stated, to accept this
command.</p>
</div>
<div class="section" id="cmd-async-polling-time">
<h4>CMD_ ASYNC_POLLING_TIME<a class="headerlink" href="#cmd-async-polling-time" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes (synchronous acquisition), no (UART
or CAN acquisition)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 29%" />
<col style="width: 47%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Currently set polling time [ms]</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Polling time to set to [ms]</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Sets or gets the used data-polling time for asynchronous channels.</p>
<p>Asynchronous data usually should only be transferred in
OSI-Layer-7-complete chunks. Depending on the used Application, the
OSI-Layer-7-data may span over multiple 32-Bit values.</p>
<p>To prevent tearing this Data over several DMA-transfers, and to prevent
to burden the BUS with unnecessary small-chunk-dma transfers, the
transfer for asynchronous data is not interrupt driven, but uses a
2-step-polling policy.</p>
<p>The driver polls the number of available asynchronous data-chunks using
a low-latency, low-bandwidth call to an FPGA-register, and initiates a
dma-transfer only if at least 1 sufficient-sized data-packet is
available.</p>
</div>
<div class="section" id="cmd-async-frame-size">
<h4>CMD_ ASYNC_FRAME_SIZE<a class="headerlink" href="#cmd-async-frame-size" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes (synchronous acquisition), no (UART
or CAN acquisition)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 36%" />
<col style="width: 42%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Currently set async
frame-size [in
multiples of 32Bit
words]. Eg.: 2 means 64
bit</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Frame size to set to
[in multiples of 32Bit
words]. Eg.: 2 means 64
bit</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Sets or gets the expected size of one atomic asynchronous data-element.</p>
</div>
<div class="section" id="cmd-update-param-acq-timing">
<h4>CMD_UPDATE_PARAM_ACQ_TIMING<a class="headerlink" href="#cmd-update-param-acq-timing" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Updates the hardware to reflect the currently set logical configuration
related to the various timing-modes (eg.: IRIG, GPS-SYNC, PPS-Sync).</p>
</div>
<div class="section" id="cmd-timing-state">
<h4>CMD_TIMING_STATE<a class="headerlink" href="#cmd-timing-state" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 35%" />
<col style="width: 36%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Current timing-state</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command queries the board for the current state of the
FPGA-internal state machine.</p>
<p>The possible reported values are:</p>
<ul class="simple">
<li><p>TIMINGSTATE_LOCKED</p></li>
<li><p>TIMINGSTATE_NOTRESYNCED</p></li>
<li><p>TIMINGSTATE_UNLOCKED</p></li>
<li><p>TIMINGSTATE_LOCKEDOOR</p></li>
<li><p>TIMINGSTATE_TIMEERROR</p></li>
<li><p>TIMINGSTATE_RELOCKOOR</p></li>
<li><p>TIMINGSTATE_NOTIMINGMODE</p></li>
</ul>
<p>For a detailed description of those values please refer to the section
Timing-Modes</p>
</div>
<div class="section" id="cmd-buffer-clear-error">
<h4>CMD_BUFFER_CLEAR_ERROR<a class="headerlink" href="#cmd-buffer-clear-error" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command is used in more advanced error-control of buffer-overruns
during acquisition.</p>
<p>When a buffer-overrun occurs, the driver will stay in the
overrun-error-occurred state, until either the acquisition is stopped or
the command CMD_BUFFER_CLEAR_ERROR is issued.</p>
<p>The basic and recommended error-handling for buffer-overruns is to stop
the running acquisition, and restart it.</p>
<p>For advanced applications this might be a undesired
error-handling-policy, especially in multi-board-systems. With the
stop-start approach even boards that are currently error-free would be
stopped (in a master-slave-environment).</p>
<p>With the command CMD_ BUFFER_CLEAR_ERROR it is possible to inform the
driver that the application did acknowledge the overrun-condition, and
handled it, and normal acquisition can occur from now on.</p>
<p>For details about the usage of this command, please refer to the related
SDK example</p>
</div>
<div class="section" id="cmd-get-uart-status">
<h4>CMD_GET_UART_STATUS<a class="headerlink" href="#cmd-get-uart-status" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 33%" />
<col style="width: 40%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Current UART-FIFO-state</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command retrieves the current FIFO-status of the on-board-UART
(UART capable boards only).</p>
<p>The possible reported values are:</p>
<ul class="simple">
<li><p>WARNING_UART_FIFO_BUSY</p></li>
<li><p>WARNING_UART_FIFO_FULL</p></li>
<li><p>WARNING_UART_FIFO_ERROR</p></li>
<li><p>ERR_NONE</p></li>
</ul>
</div>
<div class="section" id="cmd-buffer-wait-avail-no-sample">
<h4>CMD_BUFFER_WAIT_AVAIL_NO_SAMPLE<a class="headerlink" href="#cmd-buffer-wait-avail-no-sample" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 30%" />
<col style="width: 45%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Number of samples to wait for</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command is the blocking sibling of CMD_BUFFER_AVAIL_NO_SAMPLE.</p>
<p>When issued, the API will block until the required number of samples has
been acquired.</p>
<p>This command frees the application of the need to poll for available
samples.</p>
<p>The subsequent processing of acquired data is the same, as it would be
with CMD_BUFFER_AVAIL_NO_SAMPLE.</p>
</div>
<div class="section" id="cmd-acq-state">
<h4>CMD_ACQ_STATE<a class="headerlink" href="#cmd-acq-state" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 32%" />
<col style="width: 42%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Current acquisition state</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command retrieves the current acquisition state of the board.</p>
<p>The possible reported values:</p>
<ul class="simple">
<li><p>ACQ_STATE_IDLE</p></li>
<li><p>ACQ_STATE_RUNNING</p></li>
<li><p>ACQ_STATE_SYNCED</p></li>
<li><p>ACQ_STATE_ERROR</p></li>
</ul>
<p>This way an application can always see, in what detailed state the given
data-acquisition hardware currently is.</p>
<p>This command is for example useful on external-trigger-setups, as the
command CMD_START_ACQUISTION would just arm the given board, but as
long, as the external trigger did not happen, the board itself would
stay in ACQ_STATE_IDLE.</p>
</div>
<div class="section" id="cmd-update-param-aref">
<h4>CMD_UPDATE_PARAM_AREF<a class="headerlink" href="#cmd-update-param-aref" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Natural channel
number,
UPDATE_ALL_CHANNELS,
U
PDATE_GROUP_CHANNELS</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command updates the current hardware-settings of the internal
analogue reference source to reflect the latest logical values.</p>
</div>
<div class="section" id="cmd-timing-time">
<h4>CMD_TIMING_TIME<a class="headerlink" href="#cmd-timing-time" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This low-latency command updates the logical data-elements below
/AcqProp/Timing/SystemTime to hold the current hardware-values. Typical
usage examples would be a GPS or IRIG time-source connected to a IRIG or
GPS capable TRION™-board.</p>
<p>After issuing this command the string-getters for the single
time-elements can be issued to obtain the information.</p>
</div>
<div class="section" id="cmd-gps-receiver-reset">
<h4>CMD_GPS_RECEIVER_RESET<a class="headerlink" href="#cmd-gps-receiver-reset" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command issues the command-sequence, that will perform a
low-level-reset on the receiver of the GPS-capable TRION™-board.</p>
</div>
<div class="section" id="cmd-pxi-line-state">
<h4>CMD_PXI_LINE_STATE<a class="headerlink" href="#cmd-pxi-line-state" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 29%" />
<col style="width: 46%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>Current state of the PXI-lines</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command retrieves the current state of the PXI-Lines.</p>
<p>For decoding use the filter-bits PXI_LINE_STATE_TRIG0 to
PXI_LINE_STATE_LBL12.</p>
</div>
<div class="section" id="cmd-discret-state-set">
<h4>CMD_DISCRET_STATE_SET<a class="headerlink" href="#cmd-discret-state-set" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Logical channel
number of discreet
state to set</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command is used to set the given logical discreet (DIO/DO) channel
to a logic ‘1’ value. (= High)</p>
<p>As only natural channel number can be passed, only one DIO/DO channel
(bit) can be set at the same time</p>
</div>
<div class="section" id="cmd-discret-state-clear">
<h4>CMD_DISCRET_STATE_CLEAR<a class="headerlink" href="#cmd-discret-state-clear" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Logical channel
number of discreet
state to set</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command is used to set the given logical discreet (DIO/DO) channel
to a logic ‘0’ value. (= Low)</p>
<p>As only natural channel number can be passed, only one DIO/DO channel
(bit) can be set at the same time</p>
</div>
<div class="section" id="cmd-discret-group32-set">
<h4>CMD_DISCRET_GROUP32_SET<a class="headerlink" href="#cmd-discret-group32-set" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 31%" />
<col style="width: 44%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Bit-pattern to set on group</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Discreet asynchronous output channels (DIO/DO) are organized in 32Bit
groups on TRION™. This command is used to update a whole 32-bit group at
once.</p>
<p>This command by nature operates on a less hardware-abstract level than
the CMD_DISCRET_STATE_SET/CMD_DISCRET_STATE_CLEAR commands. Therefore an
application has to have a higher awareness about the detailed
hardware-capabilities of the given board.</p>
<p>Note: the second group of 32-Discreets can be addressed by incrementing
the command ID by 1. (CMD_DISCRET_GROUP32_Set +1)</p>
</div>
<div class="section" id="cmd-idled-board-on">
<h4>CMD_IDLED_BOARD_ON<a class="headerlink" href="#cmd-idled-board-on" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 35%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>Color to set LED to</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Specific TRION™-boards feature a single LED that can be SW-controlled.</p>
<p>Currently valid colors to set the LED to are:</p>
<ul class="simple">
<li><p>IDLED_COL_RED</p></li>
<li><p>IDLED_COL_GREEN</p></li>
<li><p>IDLED_COL_ORANGE</p></li>
<li><p>IDLED_COL_OFF</p></li>
</ul>
<p>Whether this command is supported, and details about the allowed values
are depending on the specific TRION™-board.</p>
</div>
<div class="section" id="cmd-idled-board-off">
<h4>CMD_IDLED_BOARD_OFF<a class="headerlink" href="#cmd-idled-board-off" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Specific TRION™-boards feature a single LED that can be SW-controlled.</p>
<p>This command will turn the LED of the given board off.</p>
<p>The command is equivalent to issue CMD_IDLED_BOARD_ON with the parameter
IDLED_COL_OFF.</p>
</div>
<div class="section" id="cmd-idled-channel-on">
<h4>CMD_IDLED_CHANNEL_ON<a class="headerlink" href="#cmd-idled-channel-on" title="Permalink to this headline">¶</a></h4>
<p>This command is currently not supported.</p>
</div>
<div class="section" id="cmd-idled-channel-off">
<h4>CMD_IDLED_CHANNEL_OFF<a class="headerlink" href="#cmd-idled-channel-off" title="Permalink to this headline">¶</a></h4>
<p>This command is currently not supported.</p>
</div>
<div class="section" id="cmd-board-adc-delay">
<h4>CMD_BOARD_ADC_DELAY<a class="headerlink" href="#cmd-board-adc-delay" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>valid board index</p></td>
<td><p>ADC delay, with
current settings
applied</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
</tbody>
</table>
<p>This command retrieves the ADC delay, using the current settings.</p>
<p>Various AD-converter-types have different runtime of the samples from
analogue side to the final converted value.</p>
<p>Therefore analogue samples may appear in later scans, than time-wise
corresponding digital channels. The ADC-delay is used to allow the
application to re-associate samples of different channel-types.</p>
<p>Please refer to the SDK-example “ADCDelay” for correct usage.</p>
</div>
<div class="section" id="cmd-board-baseeeprom-write">
<h4>CMD_BOARD_BASEEEPROM_WRITE<a class="headerlink" href="#cmd-board-baseeeprom-write" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes (but not recommended)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command writes the content of the base-e2rpom-xml-file back to the
e2prom.</p>
<p>Unless the application willingly writes directly to the
baseeeprom-xml-file, there is no need to issue this command.</p>
</div>
<div class="section" id="cmd-board-coneeprom-write">
<h4>CMD_BOARD_CONEEPROM_WRITE<a class="headerlink" href="#cmd-board-coneeprom-write" title="Permalink to this headline">¶</a></h4>
<p>Type: atomic</p>
<p>Usable on running acquisition: yes (but not recommended)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 40%" />
<col style="width: 27%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>nBoardNo</p></th>
<th class="head"><p>*pVal / nVal</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Get</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>Not supported</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>valid board index</p></td>
<td><p>N/A</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This command writes the content of the connector-e2rpom-xml-file back to
the e2prom.</p>
<p>Unless the application willingly writes directly to the
coneeprom-xml-file, there is no need to issue this command.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="trion_api_xml.html" class="btn btn-neutral float-left" title="TRION API XML Documents" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, DEWETRON GmbH

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>